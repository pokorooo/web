<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ„ãƒ¼ãƒ« - Pokoro Tools</title>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Q3F3DJ865S"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-Q3F3DJ865S');
    </script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/qrcode@1.5.4/build/qrcode.min.js"></script>
    <script src="https://unpkg.com/html-to-image@1.11.13/dist/html-to-image.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ“±</text></svg>">
</head>
<body class="bg-gray-100 min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        function QRCodeGenerator() {
            const [inputText, setInputText] = useState('');
            const [qrCodeDataURL, setQrCodeDataURL] = useState('');
            const qrRef = useRef(null);
            const [expandedCategories, setExpandedCategories] = useState({
                webDesign: true,
                dataConversion: false,
                imageTools: false
            });
            
            // ã‚«ãƒ†ã‚´ãƒªã®é–‹é–‰åˆ‡ã‚Šæ›¿ãˆ
            const toggleCategory = (category) => {
                setExpandedCategories(prev => ({
                    ...prev,
                    [category]: !prev[category]
                }));
            };

            useEffect(() => {
                if (inputText.trim()) {
                    QRCode.toDataURL(inputText, {
                        width: 300,
                        margin: 2,
                        color: {
                            dark: '#000000',
                            light: '#FFFFFF'
                        }
                    })
                    .then(url => {
                        setQrCodeDataURL(url);
                    })
                    .catch(err => {
                        console.error('QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆã‚¨ãƒ©ãƒ¼:', err);
                    });
                } else {
                    setQrCodeDataURL('');
                }
            }, [inputText]);

            const downloadQR = async () => {
                if (!qrRef.current) return;
                
                try {
                    const dataUrl = await htmlToImage.toPng(qrRef.current, {
                        backgroundColor: 'white',
                        pixelRatio: 2
                    });
                    
                    const link = document.createElement('a');
                    link.download = `qrcode-${Date.now()}.png`;
                    link.href = dataUrl;
                    link.click();
                } catch (error) {
                    console.error('ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚¨ãƒ©ãƒ¼:', error);
                    alert('ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸ');
                }
            };

            return (
                <div className="max-w-7xl mx-auto p-4 md:p-6">
                    <div className="lg:flex lg:gap-6">
                        {/* Main Content */}
                        <div className="lg:flex-1 bg-white rounded-lg shadow-lg p-6 md:p-8">
                        {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}
                        {React.createElement('div', {
                            key: 'nav',
                            className: "mb-4"
                        }, 
                            React.createElement('a', {
                                key: 'back',
                                href: '/',
                                onClick: () => {
                                    sessionStorage.setItem('toolsScrollPosition', window.scrollY.toString());
                                },
                                className: "inline-flex items-center text-indigo-600 hover:text-indigo-700 transition-colors"
                            }, [
                                React.createElement('svg', {
                                    key: 'arrow',
                                    className: "w-5 h-5 mr-2",
                                    fill: "none",
                                    stroke: "currentColor",
                                    viewBox: "0 0 24 24"
                                },
                                    React.createElement('path', {
                                        strokeLinecap: "round",
                                        strokeLinejoin: "round",
                                        strokeWidth: 2,
                                        d: "M15 19l-7-7 7-7"
                                    })
                                ),
                                'ãƒ„ãƒ¼ãƒ«ä¸€è¦§ã«æˆ»ã‚‹'
                            ])
                        )}
                        
                        
                        <h1 className="text-2xl md:text-3xl font-bold text-center mb-8 text-gray-800 bg-white py-4 px-6 rounded-lg">
                            QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ„ãƒ¼ãƒ«
                        </h1>

                        {/* å…¥åŠ›æ¬„ */}
                        <div className="bg-gray-50 rounded-lg p-6 mb-6">
                            <label htmlFor="textInput" className="block text-sm font-medium text-gray-700 mb-2">
                                ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›
                            </label>
                            <textarea
                                id="textInput"
                                value={inputText}
                                onChange={(e) => setInputText(e.target.value)}
                                placeholder="URLã‚„ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆä¾‹: https://example.comï¼‰"
                                className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"
                                rows="3"
                            />
                        </div>

                        {/* QRã‚³ãƒ¼ãƒ‰è¡¨ç¤ºã‚¨ãƒªã‚¢ */}
                        {qrCodeDataURL && (
                            <div className="bg-gray-50 rounded-lg p-6 mb-6">
                                <div className="text-center">
                                    <h2 className="text-lg font-semibold text-gray-800 mb-4">
                                        ç”Ÿæˆã•ã‚ŒãŸQRã‚³ãƒ¼ãƒ‰
                                    </h2>
                                    <div ref={qrRef} className="inline-block p-4 bg-white rounded-lg">
                                        <img 
                                            src={qrCodeDataURL} 
                                            alt="Generated QR Code" 
                                            className="mx-auto"
                                        />
                                    </div>
                                    <button
                                        onClick={downloadQR}
                                        className="mt-4 w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2"
                                    >
                                        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z" />
                                        </svg>
                                        ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆPNGï¼‰
                                    </button>
                                </div>
                            </div>
                        )}

                        {/* å…¥åŠ›å†…å®¹è¡¨ç¤ºï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰ */}
                        {inputText && (
                            <div className="bg-gray-100 rounded-lg p-4 mb-6">
                                <h3 className="text-sm font-medium text-gray-700 mb-2">å…¥åŠ›å†…å®¹:</h3>
                                <p className="text-sm text-gray-600 break-all">{inputText}</p>
                            </div>
                        )}

                        {/* ä½¿ã„æ–¹ */}
                        {!inputText && (
                            <div className="bg-gray-50 rounded-lg p-6">
                                <h3 className="text-lg font-semibold text-gray-800 mb-3">ä½¿ã„æ–¹</h3>
                                <ul className="text-sm text-gray-600 space-y-2">
                                    <li>â€¢ ä¸Šã®å…¥åŠ›æ¬„ã«URLã‚„ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›</li>
                                    <li>â€¢ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§QRã‚³ãƒ¼ãƒ‰ãŒç”Ÿæˆã•ã‚Œã¾ã™</li>
                                    <li>â€¢ ã€Œãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã€ãƒœã‚¿ãƒ³ã§PNGç”»åƒã¨ã—ã¦ä¿å­˜</li>
                                    <li>â€¢ ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã§ã‚‚åˆ©ç”¨å¯èƒ½</li>
                                </ul>
                            </div>
                        )}

                        </div>
                        
                        {/* ã‚µã‚¤ãƒ‰ãƒãƒ¼ (ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—) */}
                        <div className="hidden lg:block w-80 bg-white rounded-lg shadow-lg p-6">
                            <div className="mb-6">
                                <h2 className="text-xl font-bold text-gray-800 flex items-center">
                                    ğŸ”— é–¢é€£ãƒ„ãƒ¼ãƒ«
                                </h2>
                                <p className="text-sm text-gray-600 mt-1">ã‚«ãƒ†ã‚´ãƒªåˆ¥ã«æ•´ç†ã•ã‚ŒãŸãƒ„ãƒ¼ãƒ«ä¸€è¦§</p>
                            </div>
                            <div className="space-y-6">
                                {/* Webãƒ»ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ« */}
                                <div className="bg-gray-50 rounded-lg p-4">
                                    <button 
                                        onClick={() => toggleCategory('webDesign')}
                                        className="w-full flex items-center justify-between text-lg font-semibold text-gray-800 hover:text-indigo-600 transition-colors"
                                    >
                                        <span>ğŸ¨ Webãƒ»ãƒ‡ã‚¶ã‚¤ãƒ³</span>
                                        <svg 
                                            className={`w-5 h-5 transform transition-transform ${expandedCategories.webDesign ? 'rotate-180' : ''}`}
                                            fill="none" 
                                            stroke="currentColor" 
                                            viewBox="0 0 24 24"
                                        >
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                                        </svg>
                                    </button>
                                    {expandedCategories.webDesign && (
                                        <div className="mt-3 space-y-2">
                                            <a href="/color/" className="block px-3 py-2 text-sm text-gray-700 hover:bg-white rounded transition-colors">
                                                ğŸ¨ ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ
                                            </a>
                                            <a href="/urlshortener/" className="block px-3 py-2 text-sm text-gray-700 hover:bg-white rounded transition-colors">
                                                ğŸ”— URLçŸ­ç¸®ãƒ„ãƒ¼ãƒ«
                                            </a>
                                            <a href="/utm/" className="block px-3 py-2 text-sm text-gray-700 hover:bg-white rounded transition-colors">
                                                ğŸ”— UTMãƒ“ãƒ«ãƒ€ãƒ¼
                                            </a>
                                        </div>
                                    )}
                                </div>

                                {/* ãƒ‡ãƒ¼ã‚¿å¤‰æ›ãƒ„ãƒ¼ãƒ« */}
                                <div className="bg-gray-50 rounded-lg p-4">
                                    <button 
                                        onClick={() => toggleCategory('dataConversion')}
                                        className="w-full flex items-center justify-between text-lg font-semibold text-gray-800 hover:text-indigo-600 transition-colors"
                                    >
                                        <span>ğŸ”„ ãƒ‡ãƒ¼ã‚¿å¤‰æ›</span>
                                        <svg 
                                            className={`w-5 h-5 transform transition-transform ${expandedCategories.dataConversion ? 'rotate-180' : ''}`}
                                            fill="none" 
                                            stroke="currentColor" 
                                            viewBox="0 0 24 24"
                                        >
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                                        </svg>
                                    </button>
                                    {expandedCategories.dataConversion && (
                                        <div className="mt-3 space-y-2">
                                            <a href="/base64/" className="block px-3 py-2 text-sm text-gray-700 hover:bg-white rounded transition-colors">
                                                ğŸ” Base64å¤‰æ›
                                            </a>
                                            <a href="/url/" className="block px-3 py-2 text-sm text-gray-700 hover:bg-white rounded transition-colors">
                                                ğŸ”— URLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰
                                            </a>
                                            <a href="/csvjson/" className="block px-3 py-2 text-sm text-gray-700 hover:bg-white rounded transition-colors">
                                                ğŸ”„ CSV â‡„ JSON
                                            </a>
                                        </div>
                                    )}
                                </div>

                                {/* ç”»åƒé–¢é€£ãƒ„ãƒ¼ãƒ« */}
                                <div className="bg-gray-50 rounded-lg p-4">
                                    <button 
                                        onClick={() => toggleCategory('imageTools')}
                                        className="w-full flex items-center justify-between text-lg font-semibold text-gray-800 hover:text-indigo-600 transition-colors"
                                    >
                                        <span>ğŸ–¼ï¸ ç”»åƒé–¢é€£</span>
                                        <svg 
                                            className={`w-5 h-5 transform transition-transform ${expandedCategories.imageTools ? 'rotate-180' : ''}`}
                                            fill="none" 
                                            stroke="currentColor" 
                                            viewBox="0 0 24 24"
                                        >
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                                        </svg>
                                    </button>
                                    {expandedCategories.imageTools && (
                                        <div className="mt-3 space-y-2">
                                            <a href="/image-resizer/" className="block px-3 py-2 text-sm text-gray-700 hover:bg-white rounded transition-colors">
                                                ğŸ–¼ï¸ ç”»åƒãƒªã‚µã‚¤ã‚º
                                            </a>
                                            <a href="/image-grayscale/" className="block px-3 py-2 text-sm text-gray-700 hover:bg-white rounded transition-colors">
                                                ğŸ¨ ç”»åƒã‚°ãƒ¬ãƒ¼ã‚¹ã‚±ãƒ¼ãƒ«
                                            </a>
                                            <a href="/exifviewer/" className="block px-3 py-2 text-sm text-gray-700 hover:bg-white rounded transition-colors">
                                                ğŸ“Š EXIFãƒ“ãƒ¥ãƒ¼ã‚¢ãƒ¼
                                            </a>
                                        </div>
                                    )}
                                </div>

                                {/* ä½¿ã„æ–¹ã®ãƒ’ãƒ³ãƒˆ */}
                                <div className="bg-blue-50 rounded-lg p-4">
                                    <h3 className="text-lg font-semibold text-blue-800 mb-3">ğŸ’¡ ä½¿ã„æ–¹ã®ãƒ’ãƒ³ãƒˆ</h3>
                                    <ul className="text-sm text-blue-700 space-y-1">
                                        <li>â€¢ URLãƒ»ãƒ†ã‚­ã‚¹ãƒˆæƒ…å ±ã®å…±æœ‰ã«</li>
                                        <li>â€¢ ã‚¤ãƒ™ãƒ³ãƒˆãƒ»åº—èˆ—ã®æ¡ˆå†…ã«</li>
                                        <li>â€¢ Wi-Fiè¨­å®šã®å…±æœ‰ã«</li>
                                        <li>â€¢ å°åˆ·ç‰©ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹å°ç·šã«</li>
                                    </ul>
                                </div>

                                {/* æŠ€è¡“ãƒ–ãƒ­ã‚° */}
                                <div className="bg-indigo-50 rounded-lg p-4">
                                    <h3 className="text-lg font-semibold text-indigo-800 mb-3">ğŸ“ æŠ€è¡“ãƒ–ãƒ­ã‚°</h3>
                                    <a 
                                        href="https://pokoroblog.com/" 
                                        target="_blank" 
                                        rel="noopener noreferrer"
                                        className="flex items-center px-3 py-2 text-sm text-indigo-700 hover:bg-indigo-100 rounded transition-colors"
                                    >
                                        <span className="mr-2">ğŸŒ</span>
                                        Pokoro Blog
                                        <svg className="w-3 h-3 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                                        </svg>
                                    </a>
                                    <p className="text-xs text-indigo-600 mt-2">ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ãƒ»æŠ€è¡“æƒ…å ±ã‚’ç™ºä¿¡ä¸­</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    {/* é–¢é€£ãƒ„ãƒ¼ãƒ« (ãƒ¢ãƒã‚¤ãƒ«) */}
                    <div className="lg:hidden mt-6">
                        <div className="bg-white rounded-lg shadow-lg p-6">
                            <h3 className="text-lg font-semibold text-gray-800 mb-3">ğŸ”— é–¢é€£ãƒ„ãƒ¼ãƒ«</h3>
                            <p className="text-sm text-gray-600 mb-4">Webãƒ»ãƒ‡ã‚¶ã‚¤ãƒ³ã®ä¾¿åˆ©ãªãƒ„ãƒ¼ãƒ«</p>
                            <div className="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                <a href="/color/" className="block px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded transition-colors">
                                    ğŸ¨ ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ
                                </a>
                                <a href="/urlshortener/" className="block px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded transition-colors">
                                    ğŸ”— URLçŸ­ç¸®ãƒ„ãƒ¼ãƒ«
                                </a>
                                <a href="/utm/" className="block px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded transition-colors">
                                    ğŸ”— UTMãƒ“ãƒ«ãƒ€ãƒ¼
                                </a>
                                <a href="/image-resizer/" className="block px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded transition-colors">
                                    ğŸ–¼ï¸ ç”»åƒãƒªã‚µã‚¤ã‚º
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<QRCodeGenerator />, document.getElementById('root'));
    </script>
</body>
</html>